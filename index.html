import React, { useState } from 'react';

const ChessBoard = () => {
  const [selectedPiece, setSelectedPiece] = useState(null);
  
  const pieces = {
    'wr1': { 
      emoji: '♜', 
      reason: "8 × 8 makes 64"
    },
    'wn1': { 
      emoji: '♞', 
      reason: "64 bits in computer memory"
    },
    'wb1': { 
      emoji: '♝', 
      reason: "8² equals 64"
    },
    'wq': { 
      emoji: '♛', 
      reason: "Factors: 1, 2, 4, 8, 16, 32, 64"
    },
    'wk': { 
      emoji: '♚', 
      reason: "2⁶ equals 64"
    },
    'wb2': { 
      emoji: '♝', 
      reason: "32 + 32 makes 64"
    },
    'wn2': { 
      emoji: '♞', 
      reason: "Nintendo 64"
    },
    'wr2': { 
      emoji: '♜', 
      reason: "Half of 128"
    },
    'wp1': { 
      emoji: '♟', 
      reason: "64 is a composite number"
    },
    'wp2': { 
      emoji: '♟', 
      reason: "8 rows of 8"
    },
    'wp3': { 
      emoji: '♟', 
      reason: "4 × 16 = 64"
    },
    'wp4': { 
      emoji: '♟', 
      reason: "64 GB storage"
    },
    'wp5': { 
      emoji: '♟', 
      reason: "8 × 8 grid"
    },
    'wp6': { 
      emoji: '♟', 
      reason: "64 codons in DNA"
    },
    'wp7': { 
      emoji: '♟', 
      reason: "When I'm 64 song"
    },
    'wp8': { 
      emoji: '♟', 
      reason: "16 × 4 = 64"
    },
    'bp1': { 
      emoji: '♙', 
      reason: "Powers to 4,096"
    },
    'bp2': { 
      emoji: '♙', 
      reason: "64 pixels in old video games"
    },
    'bp3': { 
      emoji: '♙', 
      reason: "In the video game Minecraft a full inventory slot is equal to 64 of most items"
    },
    'bp4': { 
      emoji: '♙', 
      reason: "64° temperature"
    },
    'bp5': { 
      emoji: '♙', 
      reason: "Memory size: 64 MB"
    },
    'bp6': { 
      emoji: '♙', 
      reason: "Double 32"
    },
    'bp7': { 
      emoji: '♙', 
      reason: "Perfect square"
    },
    'bp8': { 
      emoji: '♙', 
      reason: "Root of 64 is 8"
    },
    'br1': { 
      emoji: '♖', 
      reason: "Both square and cube"
    },
    'bn1': { 
      emoji: '♘', 
      reason: "64-bit gaming"
    },
    'bb1': { 
      emoji: '♗', 
      reason: "4³ = 64"
    },
    'bq': { 
      emoji: '♕', 
      reason: "8 groups of 8"
    },
    'bk': { 
      emoji: '♔', 
      reason: "100 - 36"
    },
    'bb2': { 
      emoji: '♗', 
      reason: "64 video game levels"
    },
    'bn2': { 
      emoji: '♘', 
      reason: "64 total squares"
    },
    'br2': { 
      emoji: '♖', 
      reason: "First 64-bit console"
    }
  };

  const initialBoard = [
    ['wr1', 'wn1', 'wb1', 'wq', 'wk', 'wb2', 'wn2', 'wr2'],
    ['wp1', 'wp2', 'wp3', 'wp4', 'wp5', 'wp6', 'wp7', 'wp8'],
    Array(8).fill(null),
    Array(8).fill(null),
    Array(8).fill(null),
    Array(8).fill(null),
    ['bp1', 'bp2', 'bp3', 'bp4', 'bp5', 'bp6', 'bp7', 'bp8'],
    ['br1', 'bn1', 'bb1', 'bq', 'bk', 'bb2', 'bn2', 'br2']
  ];

  const handlePieceClick = (piece) => {
    setSelectedPiece(piece === selectedPiece ? null : piece);
  };

  return (
    <div className="flex flex-col items-center justify-center min-h-screen bg-gray-900">
      <div className="w-full max-w-3xl p-4">
        <h1 className="text-4xl font-bold text-gray-100 mb-6 text-center">64</h1>
        
        <div className="relative">
          <div 
            className="grid grid-cols-8 gap-0 rounded-xl overflow-hidden shadow-2xl"
            style={{
              transform: 'perspective(1000px) rotateX(5deg)',
              transformStyle: 'preserve-3d'
            }}
          >
            {initialBoard.map((row, i) => (
              row.map((piece, j) => {
                const isLight = (i + j) % 2 === 0;
                return (
                  <div
                    key={`${i}-${j}`}
                    className={`
                      aspect-square flex items-center justify-center cursor-pointer text-3xl
                      ${isLight ? 'bg-gray-700' : 'bg-gray-900'}
                      hover:brightness-125 transition-all duration-300
                    `}
                    onClick={() => piece && handlePieceClick(piece)}
                  >
                    {piece && (
                      <span className={`
                        transform transition-transform duration-300
                        ${selectedPiece === piece ? 'scale-125' : 'scale-100'}
                        ${piece.startsWith('w') ? 'text-gray-200' : 'text-gray-300'}
                      `}>
                        {pieces[piece].emoji}
                      </span>
                    )}
                  </div>
                );
              })
            ))}
          </div>
        </div>

        <div className={`
          mt-6 p-6 bg-gray-800 rounded-xl shadow-lg
          transform transition-all duration-500 
          ${selectedPiece ? 'translate-y-0 opacity-100' : 'translate-y-4 opacity-0'}
        `}>
          {selectedPiece && (
            <div className="text-gray-100">
              <div className="flex items-center gap-4 mb-4">
                <span className="text-5xl">{pieces[selectedPiece].emoji}</span>
                <span className="text-4xl font-bold">64</span>
              </div>
              <p className="text-lg">{pieces[selectedPiece].reason}</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default ChessBoard;
